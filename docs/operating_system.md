# 操作系统

## 编译
UNIX上编译一个c语言程序使用如下命令生成可执行文件`gcc -o hello hello.c`

编译系统分为预处理器(preprocessor)、编译器(compiler)、汇编器(assembler)和链接器(linker)四个部分组成。

1. 预处理阶段：预处理器（cpp）将根据以字符 '#' 开始的命令修改原始的C语言程序，得到另一个C语言程序，通常以`.i`作为文件后缀，例如`hello.i`；
2. 编译阶段：编译器（ccl）将文本文件`hello.i`翻译成文本文件`hello.s`，包含一个汇编语言程序。
3. 汇编阶段：汇编器（as）将`hello.s`翻译成机器语言指令，并把指令打包成一种可重定位目标程序（relocatable object program）的格式，并将结果保存在目标文件`hello.o` 中。
4. 链接阶段：链接器（ld）负责将一些已经存在于标准库中的目标文件合并到同一个文件中去(假设printf 函数存在于printf.o单独预编译好的目标文件中)，生成一个可执行目标文件`hello`。

## 了解编译系统如何工作带来的益处
1. 优化程序性能；
2. 理解链接时出现的错误；
3. 避免安全漏洞；

## 操作系统管理硬件
操作系统两个基本功能：
1. 防止硬件被失控的应用程序滥用；
2. 向应用程序提供简单一致的抽象机制来控制复杂而又通常不同的硬件外设；

操作系统通过提供（进程、虚拟存储器、文件）几个基本抽象概念来实现这两个功能。